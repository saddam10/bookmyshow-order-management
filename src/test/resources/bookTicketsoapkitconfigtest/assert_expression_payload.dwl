%dw 2.0
import * from dw::test::Asserts
---
payload must equalTo({
  "body": "<?xml version='1.0' encoding='UTF-8'?>\n<ns0:bookTicketResponse xmlns:ns0=\"http://localhost:8081/ticket-booking-service/\">\n  <success>0</success>\n  <message>\"Cannot coerce Null (null) to Number\n\n13| \tnetAmount: payload.body.ns0#bookTicket.netAmount as Number,\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTrace:\n  at anonymous::main (line: 13, column: 13)\" evaluating expression: \"%dw 2.0\noutput application/json\nns ns0 http://localhost:8081/ticket-booking-service/\n---\n{\n\tmobileNumber: payload.body.ns0#bookTicket.mobileNumber as Number,\n\tmovieID: payload.body.ns0#bookTicket.movieID as Number,\n\tshowID: payload.body.ns0#bookTicket.showID as Number,\n\taudio: payload.body.ns0#bookTicket.audio default \"\",\n\tformat: payload.body.ns0#bookTicket.format default \"\",\n\ttheaterID: payload.body.ns0#bookTicket.theaterID as Number,\n\tbookingTime: payload.body.ns0#bookTicket.bookingTime as DateTime as String { format : \"yyyy-MM-dd'T'HH:mm:ss\" } default \"\",\n\tnetAmount: payload.body.ns0#bookTicket.netAmount as Number,\n\tshowTiming: payload.body.ns0#bookTicket.showTiming as DateTime as String { format : \"yyyy-MM-dd'T'HH:mm:ss\" } default \"\",\n\tnumberOfSeats: payload.body.ns0#bookTicket.numberOfSeats as Number,\n\tseatNumbers: payload.body.ns0#bookTicket.seatNumbers.*seatNumber joinBy  \",\" as String default \"\",\n\tbookingID: vars.bookingID\n\t\n}\".</message>\n  <errorType>EXPRESSION</errorType>\n</ns0:bookTicketResponse>"
})